
[core]
name: kaleido
displayText: Kaleido
displayDescription: -Oculian Air Gunship Unit \n-Air unit with a decent shield and shotguns that attacks ground \n-1x Glint (15 DPS 150 Range) \n-2x Kea (56 DPS 120 Range)
class: CustomUnitMetadata
price: 1000
maxHp: 150
maxShield: 300
shieldRegen: 0.116
mass: 300
techLevel: 1
buildSpeed: 12s
radius: 14
displayRadius: 14
isBio: false
softCollisionOnAll: 3
fogOfWarSightRange: 10
tags: shield



[graphics]
total_frames: 1
image: kaleido.png
image_wreak: kaleido_dead.png
image_turret: NONE
imageScale:1
turretImageScale:1
lock_body_rotation_with_main_turret: false
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1
dustEffect: true



[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false
maxAttackRange: 120
shootDelay: 1s
turretMultiTargeting: true
isFixedFiring: true



[hiddenAction_flee]
autoTrigger: if self.isControlledByAI() and self.isAttacking() and self.shield(lessThan=25) and not self.hp(lessThan=100)
temporarilyAddTags: flee



[hiddenAction_fleeing]
autoTrigger: if self.numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=400) and self.tags(includes='flee')

clearAllWaypoints: true
addWaypoint_target_fromReference: createMarker(x=self.x, y=self.y, dir=direction(self.x, self.y, attacking.x, attacking.y)).getOffsetRelative(y=-90)
addWaypoint_type: move
allowMultipleInQueue: false



[hiddenAction_stopflee]
autoTrigger: if self.tags(includes='flee') and self.shield(greaterThan=125)
temporarilyRemoveTags: flee



[turret_kea1]
invisible: true
x: 8
y: 7
projectile: shotgun
idleDir:0
turnSpeed: 0
aimOffsetSpread: 0
canAttackMaxAngle:45
delay: 0.5s
warmup: 0.5s
clearTurretTargetAfterFiring:true



[turret_kea11]
invisible: true
attachedTo: kea1
x: 0
y: 0
slave: true
projectile: shotgun
shoot_sound:ROOT:sounds\Oculian_Armada\ocua_kea_fire1.wav
shoot_sound_vol:0.3
linkDelayWithTurret: kea1



[turret_kea12]
x: 0
y: 0
copyFrom: kea11



[turret_kea13]
x: 0
y: 0
copyFrom: kea11



[turret_kea2]
invisible: true
x: -8
y: 7
projectile: shotgun
idleDir:0
turnSpeed: 0
aimOffsetSpread: 0
canAttackMaxAngle:45
delay: 0.5s
warmup: 0.5s
clearTurretTargetAfterFiring:true



[turret_kea21]
invisible: true
attachedTo: kea2
x: 0
y: 0
slave: true
projectile: shotgun
shoot_sound:ROOT:sounds\Oculian_Armada\ocua_kea_fire1.wav
shoot_sound_vol:0.3
linkDelayWithTurret: kea2



[turret_kea22]
x: 0
y: 0
copyFrom: kea21



[turret_kea23]
x: 0
y: 0
copyFrom: kea21



[projectile_shotgun]
areaDamage: 7
areaRadius: 32
areaDamageNoFalloff: true
areaRadiusFromEdge: true
targetGround: true
targetGroundSpread: 45
deflectionPower: -1
life: 15
speed: 11
beamImage: SHARED:beam3.png
beamImageEnd: SHARED:beam1_end.png
moveWithParent: true
explodeEffect: NONE
explodeEffectOnShield: NONE
color: #96f096



[movement]
movementType: AIR
targetHeightDrift: 1
moveSpeed: 1.75
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.035
reverseSpeedPercentage: 0
maxTurnSpeed: 2
turnAcceleration: 1.5
moveSlidingMode :true
moveIgnoringBody:true



[attachment_1]
x: 0
y: 11
idleDir: 0
isVisible: false
onCreateSpawnUnitOf: glint_kaleido
isUnselectable: true
deattachIfWantingToMove: false
rotateWithParent: true
resetRotationWhenNotAttacking: true
prioritizeParentsMainTarget: true