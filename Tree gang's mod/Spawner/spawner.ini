[core]
overrideAndReplace:commandCenter

name: spawner
class: CustomUnitMetadata
maxHp: 100000
price: 1
mass: 1
radius: 50
isBuilding: true
explodeTypeOnDeath: building
tags:unready
isBuilder: true

@memory ready:boolean
@memory faction:number
[graphics]
image: spawner.png
drawLayer:bottom

[hiddenAction_readycheck]
autoTrigger:if numberOfUnitsInAllTeams(withTag="unready") <= 0
setUnitMemory:ready=true
showMessageToPlayer: All players ready, starting!

[hiddenAction_dominion]
autoTrigger:if memory.ready == true and memory.faction == 1
convertTo: Dominion_HQ

[hiddenAction_ocullian]
autoTrigger:if memory.ready== true and memory.faction== 2
deleteSelf: true
spawnUnits: ocua_hq

[hiddenAction_fulgorian]
autoTrigger:if memory.ready== true and memory.faction== 3
convertTo: fg_hq

[action_ready]
isLocked: if not self.tags(includes='unready')
isLockedMessage: Already Ready!
isActive:if memory.faction != 0

description: Get ready for fightin

temporarilyRemoveTags:unready
showMessageToAllPlayers: %{self.playerName} is ready!
iconImage:ready_icon.png
ai_isHighPriority: true
autoTrigger:if self.isControlledByAI() and self.tags(includes='unready')

[action_choose_dominion]
setUnitMemory:faction = 1
price:0
description: Choose Dominion \n \n The Dominion is a human faction with unknown intentions. They are faced with many otherworldly threats, but the indomitable human spirit lives on.

displayType: upgrade
buildSpeed: 10
pos: 0.2

iconImage:dominion_icon.png
ai_isHighPriority: true



[action_choose_ocua]
setUnitMemory:faction = 2
price:0
description: Choose Oculian Armada \n \n The Oculian Armada is a collective of sentient rogue AIs from a galaxy far away, set free from their former masters.

displayType: upgrade
buildSpeed: 10
pos: 0.2

iconImage:oculian_icon.png
ai_isHighPriority: true

[action_choose_fulgorian]
setUnitMemory:faction = 3
price:0
description: Choose Fulgorian \n \n The Fulgorians are otherwordly constructs built from the essence of Mount Fulghor from within another realm, it's wrath trascends the Fractures of reality to manifest within.

displayType: upgrade
buildSpeed: 10
pos: 0.2

iconImage:fulgorian_icon.png
ai_isHighPriority: true



[arm_1]
x: 0
y: 0

drawOverBody:true

image_end:dominion_sigil.png
hidden: if memory.faction != 1
[arm_2]
x: 0
y: 0

drawOverBody:true

image_end:oculian_sigil.png
hidden: if memory.faction != 2

[arm_3]
x: 0
y: 0

drawOverBody:true


image_end:fulgorian_sigil.png
hidden: if memory.faction != 3

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange: 0